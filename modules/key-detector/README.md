### Активация с клавиатуры
Пожалуй, самый быстрый и удобный способ активации и деактивации ассистента, если вы работаете за компьютером с полноценной клавиатурой.

Работает следующим образом. Когда вы нажимаете и удерживаете определенные кнопки на клавиатуре, ассистент слушает вас.
Как только вы отжимаете их, ассистент сразу заканчивает слушать и выполняет распознанную команду.

_При этом никакого звукового сигнала к распознаванию нет_. Просто начинайте говорить в любой момент после того, как зажали кнопки. Говорить можно сколько угодно. Можно делать паузы. Пока вы не отпустите кнопки, система не прекратит вас слушать.

#### Однократное нажатие
Вы можете также однократно нажать на комбинацию клавиш, чтобы ассистент начал слушать вас. Тогда он сам будет отслеживать момент, когда вы закончили говорить, чтобы начать выполнять команду.
Если нужно принудительно закончить распознавание, еще раз нажмите на те же клавиши.

Вы можете работать в любом приложении. Так как ассистент работает в фоне, то он никак не помешает вашей текущей работе в другом приложении.

[Версия 1.1.0](https://bintray.com/artifact/download/uzyovoys/aggregate/com/aggregate/key-detector/1.1.0/key-detector-1.1.0.jar)
[Версия 1.0.0](https://bintray.com/artifact/download/uzyovoys/aggregate/com/aggregate/key-detector/1.0.0/key-detector-1.0.0.jar)

#### Требования
Чтобы модуль имел возможность отслеживать нажатие клавиш, необходимо в настройках вашей ОС выдать разрешение на получения программой данных от служб доступности.

Как правило, это сделано автоматически в ОС Windows. В Mac OS X сама система предложит вам выдать такие права сразу после установки модуля.

#### Настройка
В файле _key-detector.json_ в директории _conf_ вам необходимо указать коды тех клавиш, на которые ассистент должен реагировать. Например:

```javascript
{
  "key-codes" : [55, 58]
}
```

Такая конфигурация реагирует на нажатие клавиш Alt и Cmd в ОС Mac OS X.

#### Как узнать коды клавиш
Установите модуль и понаблюдайте за тем, что отображается в консоли, когда вы нажимаете ту или иную клавишу на клавиатуре.
Модуль пишет код в консоль каждый раз, когда вы нажимаете кнопку. Так можно получить коды тех кнопок, которые вам необходимы.

#### Сколько кнопок указывать
Столько, сколько вам удобно. Минимум одну. Но учтите, что нужно подобрать кнопки так, чтобы их нажатие никак не влияло на какую-либо открытую программу.

#### Логгирование кодов кнопок
При настройке или разработке коды кнопок удобно получать, просто изучая вывод в консоли.
Но логгирование нажатий можно отключить. Для этого укажите в файле _key-detector.json_ флаг _skip-logs_:

```javascript
{
  "key-codes" : [55, 58],
  "skip-logs" : true
}
```

### API
Данный модуль предоставляет API для других модулей, которым может понадобиться отслеживать нажатия на определенные клавиши клавиатуры.

Для этого в своем модуле необходимо отправить событие _key.addKeyAction_ с JSON сообщением, которое должно содержать два параметра:

- key-codes - массив кодов клавиш, которые нужно отслеживать
- signal - префикс имени события, которое будет присылаться вашему модулю при нажатии на указанные клавиши

Например:

```javascript
{
  "signal" : "dictation",
  "key-codes" : [55, 58]
}
```

После этого зарегистрируйте слушателей для двух событий - _префикс.start_ и _префикс.stop_.
Первое событие будет прислаться всякий раз, когда клавиши нажаты. А второе - когда отжаты.

Например, для конфигурации выше нужно зарегистрировать слушателей _dictation.start_ и _dictation.stop_.

_В качестве примере посмотрите [исходный код модуля Диктовка](https://github.com/uzyovoys/aggregate/tree/master/modules/dictation)_

### Список изменений
#### 1.1.0

- API для других модулей
